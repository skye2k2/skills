<% include partials/header %>

  <main>
    <article>
      <hgroup>
        <h1>Congratulations, you found the error page! Feel free to try out other status cats, I mean, codes.</h1>
        <img class="status-image">
      </hgroup>

      <div class="status-cat-options"></div>
    </article>
  </main>

<script type="text/javascript">
  var path = '<%- path %>';
  var pathParts = path.substring(path.indexOf("/") + 1).split("/");
  var supportedStatusCodes = ["100","101","200","201","202","204","206","207","300","301","302","303","304","305","307","400","401","402","403","404","405","406","408","409","410","411","412","413","414","415","416","417","418","420","421","422","423","424","425","426","429","431","444","451","500","502","503","504","506","507","508","509","511","599"];
  var statusCode = (supportedStatusCodes.indexOf(pathParts[0]) !== -1)? pathParts[0] : supportedStatusCodes[Math.floor(Math.random()*supportedStatusCodes.length)];

  document.querySelector(".status-image").setAttribute("src", "https://http.cat/" + statusCode);
  for (var i = supportedStatusCodes.length - 1; i >= 0; i--) {
    document.querySelector(".status-cat-options").insertAdjacentHTML("beforeend", "<a href='/"+ supportedStatusCodes[i] +"'>" + supportedStatusCodes[i] + "</a> ");
  }
</script>

<% include partials/footer %>
